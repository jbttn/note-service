@import "twitter/bootstrap/bootstrap";
//@import "twitter/bootstrap/responsive";
@import "bootstrap_changes.css.less";

// Custom styling here

// Variables
@baseSpacing: 20px;

// Mixins
.paper-container {
  .paper-container(#F7F7F7);
}
.paper-container-inset(@color: #F7F7F7) {
  .paper-container(@color);
  .box-shadow(inset 0px 1px 4px rgba(0,0,0,.4));
}
.paper-container-card(@color: #FFFFFF) {
  .paper-container(@color);
  .box-shadow(0px 1px 4px rgba(0,0,0,.4));
}
.paper-container(@color: #F7F7F7) {
  padding: @baseSpacing;
  background-color: @color;
  //border: 1px solid #CCC;
  //.border-radius(2px);
  //.box-shadow(0px 1px 4px rgba(0,0,0,.4));
  box-shadow:
          0 1px 4px rgba(0,0,0,0.25), /* The top layer shadow */
          0 10px 0 -5px @color, /* The second layer */
          0 10px 1px -4px rgba(0,0,0,0.15), /* The second layer shadow */
          0 20px 0 -10px @color, /* The third layer */
          0 20px 1px -9px rgba(0,0,0,0.15); /* The third layer shadow */
  
  h1 {
    //border-bottom: 1px solid #EEE;
  }
  h1, h2, h3, h4, h5 {
    background-color: darken(@linkColor, 5);
    color: #FFF;
    .border-radius(4px);
    //.box-shadow(inset 0px 1px 4px rgba(0,0,0,.4));
    text-shadow: #555 1px 1px;
    margin-bottom: 10px;
    padding: 0 10px;
    
    a {
      text-shadow: none;
    }
  }
  
  .header {
    padding: @baseSpacing / 2;
    margin: 5px 0;
    //#translucent > .background(#000, .20);
    background-image: url('/assets/wood_pattern.png');
    .box-shadow(inset 0px 1px 4px rgba(0,0,0,.7));
    h1, h2 {
      margin: 0;
      color: #FFF;
      text-shadow: #333 1px 1px, #333 2px 2px;
    }
  }
}

.truncate() {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.transparent-container {
  padding: @baseSpacing / 2;
  color: @white;
  //#gradient > .vertical(lighten(@navbarBackgroundHighlight, 20), lighten(@navbarBackground, 10));
  #translucent > .background(#5E5E6A, .40);
  .box-shadow(0px 1px 4px rgba(0,0,0,.4));
}

.stretch-container {
  position: relative;
  display: inline-block; // ?
}

.stretch(@top: 0, @right: 0, @bottom: 0, @left: 0) {
  position: absolute;
  top: @top;
  right: @right;
  bottom: @bottom;
  left: @left;
}

// General
html, body {
  min-height: 100%;
}

body {
  font-weight: 200;
  margin-top: 40px;
  background: #EEE;
  #gradient > .radial(lighten(@white, 5), darken(@linkColor, 15));
  //background: url('/assets/furley_bg.png');
  //background: url('/assets/wood_pattern.png');
}

span.highlight {
  color: lighten(@blue, 5);
}

#main-container {
  //#translucent > .background(@black, .40);
  padding: @baseSpacing @baseSpacing;
  //border-left: 1px solid #CCC;
  //border-right: 1px solid #CCC;
}

#dashboard {
  //padding: @baseSpacing 0;
}

#logo {
  position: absolute;
}

#alert-messages {
  /*position: absolute;
  top: 2px;
  left: 450px;
  right: 600px;
  z-index: 2000;*/
}

.tag {
  padding: 2px;
  margin: 0 2px;
  background-color: #EEE;
  border: 1px solid #CCC;
}

.header-tag {
  padding: 2px;
  margin: 0 2px;
  
  span {
    position: relative;
    top: -3px;
  }
}

.liquid-form {
  //margin-left: 20px;
  margin-right: -20px;
}

.fluid-input {
  width: 98.5%;
}

.CodeRay {
  width: 100%;
  border: 1px solid #DDD;
  margin-bottom: 10px;
  .line-numbers {
    text-align: right;
    width: 50px;
    max-width: 50px;
    border-right: 1px solid #EEE;
    background: #F7F7F7;
  }
  .code {
    pre {
      background: @white;
    }
  }
  pre {
    border: none;
    .border-radius(0);
    margin: 0;
  }
}

.pagination {
  .paper-container-card(#F7F7F7);
  padding: 10px;
  margin: @baseSpacing 0;
  height: auto;
  /*position: absolute;
  bottom: 0;
  left: 0;
  right: 0;*/
  
  .active a {
    .box-shadow(inset 0px 1px 4px rgba(0, 0, 0, 0.1));
  }
}

// Welcome page
#welcome {
  margin-top: 40px;
  
  #welcome-header {
    text-align: center;
    margin-bottom: 25px;
  }
  #welcome-content {
    ul {
      margin-left: 50px;
      list-style-type: none;
    }
    li {
      color: #FFF;
      font-size: 20px;
      line-height: 1.5em;
      text-shadow: 1px 1px #444, 2px 2px #444;
    }
  }
  h1, h2, h3 {
    color: #FFF;
    text-shadow: 1px 1px #444, 2px 2px #444;
  }
  h1 {
    font-size: 64px;
    line-height: 1em;
  }
  h2 {
    font-size: 32px;
    margin-left: 20px;
    font-style: italic;
  }
  h3 {
    font-size: 24px;
  }
}

// Devise / Registration

#devise-container {
  margin-top: 40px;
  width: 24%;
  .center-block();
}

// Navbar

ul.nav {
  .open {
    #gradient > .vertical(lighten(@blue, 20), @blue);
  }
}

#navbar-gravatar {
  float: left;
  margin-right: 3px;
  margin-top: 1px;
}

#navbar-user {
  width: 16px;
  vertical-align: middle;
}

.navbar-button {
  margin-top: 5px;
  padding: 14px;
  line-height: 0px;
  color: @white;
  font-weight: 900;
  
  &:hover {
    //background-color: @green;
    .buttonBackground(@green, @green);
  }
}

#navbar-new-note {
  padding: 5px 4px 2px 8px;
  
  &:hover {
    //background-color: @green;
    .buttonBackground(@green, @green);
  }
}

#signin-dropdown {
  form {
    padding: 10px;
  }
}

#center-brand {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  text-align: center;
  line-height: 1;
  color: @black;
  text-shadow: #555 1px 1px;
  font-size: 28px;
  font-weight: 600;
  padding-top: 3px;
  text-decoration: none;
}

// Dashboard

.cards {
  margin: 0px auto;
  list-style: none;
  .clearfix();
  
  .card {
    float: left;
    width: 210px;
    margin: 0 5px 10px;
  }
  
  .card-content {
    display: block;
    padding: 4px;
    line-height: 1;
    .paper-container-card();
    
    .card-header {
      padding-bottom: 10px;
      margin-bottom: 5px;
      border-bottom: 1px solid @grayLighter;
      font-size: 20px;
      
      .card-title {
        display: block;
      }
      .card-author {
        float: left;
        margin-top: 5px;
        font-size: 12px;
        color: #999;
      }
      
      .truncate();
    }

    .card-note {
      height: 100px;
      overflow: hidden;
      
      pre {
        margin: 0;
        padding: 0;
        border: none;
        background-color: #FFF;
      }
    }

    .card-metadata {
      border-top: 1px solid @grayLighter;
      margin-top: 5px;
      padding: 5px;
      margin-bottom: 2px;
      color: @grayLight;
      
      .card-label {
        float: left;
        font-size: 12px;
        width: 75%;
        
        .truncate();
      }
      .card-options {
        float: right;
      }
    }

    i {
      color: @grayLight;
    }
    
    p {
      margin-bottom: 0;
    }
  }
}

#dashboard {
  
}

#dashboard-sidebar {
  //.stretch(0, 0, 0, 0);
  //position: fixed;
  
  #dashboard-user {
    .clearfix();
    text-align: center;
  
    #dashboard-user-left {
      float: left;
      width: 30%;
    }
    #dashboard-user-right {
      float: right;
      width: 70%;
    }
  }

  #dashboard-nav {
    margin: 0;
    
    li {
      font-size: 18px;
      font-weight: 200;
      
      a {
        padding: 10px 15px;
        height: 30px;
        vertical-align: bottom;
        
        &:hover {
          background: #F7F7F7;
        }
      }
    }
  }
  
  #dashboard-labels {
    ul {
      list-style: none;
      margin: 0 0 9px 16px;
      
      li {
        font-size: 16px;
        font-weight: 200;
        
        .truncate();
      }
    }
  }
  
  form {
    margin: 0;
  }
  input {
    margin: 0;
  }
}

#dashboard-main {
  .stretch(0, 0, 0, 0);
  
  // Note list
  .note {
    margin-bottom: @baseSpacing;
    .paper-container(#F7F7F7);
  }
  .note-options {
    .pull-right();
    .opacity(30);
  }
  .note-title {
    font-size: 24px;
    line-height: 1em;
  }
  .note-timestamp {
    color: #999;
    margin-bottom: 10px;
  }
  .note-preview {
    .box-shadow(inset 0px 1px 4px rgba(0,0,0,.4));
    background-color: #EEE;
    border: 1px solid white;
    padding: @baseSpacing / 2;
    margin-bottom: @baseSpacing;
    
    pre {
      color: #555;
      margin: 0;
      padding: 0;
      border: none;
      background-color: transparent;
    }
  }
  .note-tag {
    font-size: 12px;
  }
  .note-info {
    
  }
  
  // General
  #no-labels {
    font-size: 85px;
    font-weight: 100;
    line-height: 0.8em;
    text-align: center;
  }
  
  // Label Note List
  #dashboard-label-header {
    .paper-container-card(#F7F7F7);
    font-size: 32px;
    margin-bottom: @baseSpacing;
    color: #555;
    font-weight: 100;
    letter-spacing: 3px;
    
    #dashboard-label-options {
      .opacity(30);
      float: right;
    }
  }
}
// is this needed?
.dashboard-section {
  margin-bottom: @baseSpacing;
}

// User

#user-info {
  #user-info-data {
    margin-top: 5px;
  }
  
  h1 {
    vertical-align: middle;
    display: inline;
  }
  img {
    vertical-align: middle;
    margin-right: @baseSpacing / 3.5;
  }
}

// Note

#note-header {
  //display: inline;
  margin-top: -@baseSpacing;
  .transparent-container();
  .border-radius(4px);
  .clearfix();
  
  #note-options {
    float: right;
    
    #note-options-button {
      margin-top: 10px;
      margin-left: -78px;
    }
  }
  
  h1, h2, h3, h4 {
    //color: darken(@navbarBackgroundHighlight, 10);
    width: 90%;
    color: #EEE;
    text-shadow: #333 1px 1px, #333 2px 2px;
    float: left;
    //display: inline;
  }
  h2 {
    clear: left;
  }
  h4 {
    margin-top: 10px;
  }
}

#note-content {
  margin: @baseSpacing 0;
  word-wrap: break-word;
}

.CodeMirror {
  margin-bottom: 10px;
  border: 1px solid #CCC;
  background-color: @white;
}
.CodeMirror-scroll {
  height: 0px;
}

#note-editor {
  //height: 546px;
  .stretch();
}

#note-preview {
  //height: 500px;
  .stretch();
  overflow-y: scroll;
}

// Sprites

[class^="icon-big-"],
[class*=" icon-big-"] {
    background: url(/assets/glyphicons.png) no-repeat top left;
}
.nav-list [class^="icon-big-"] {
  margin-right: 5px;
}
.icon-big-heart{ background-position: 0 0; width: 29px; height: 26px; } 
.icon-big-home{ background-position: 0 -76px; width: 33px; height: 31px; margin-right: 8px !important; } 
.icon-big-cogwheels{ background-position: 0 -157px; width: 31px; height: 31px; } 
.icon-big-search{ background-position: 0 -238px; width: 29px; height: 29px; } 
.icon-big-pencil{ background-position: 0 -317px; width: 29px; height: 29px; } 
.icon-big-file{ background-position: 0 -396px; width: 20px; height: 29px; } 
.icon-big-notes{ background-position: 0 -475px; width: 24px; height: 30px; margin-left: 3px; margin-right: 14px !important; } 
.icon-big-eye-open{ background-position: 0 -555px; width: 37px; height: 20px; margin-top: 7px;} 
.icon-big-tag{ background-position: 0 -625px; width: 29px; height: 29px; } 
.icon-big-tags{ background-position: 0 -704px; width: 36px; height: 29px; } 
.icon-big-bookmark{ background-position: 0 -783px; width: 19px; height: 28px; } 
.icon-big-edit{ background-position: 0 -861px; width: 28px; height: 25px; }